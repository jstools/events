!function(n,t){n.angular?n.angular.module("eventsWrapper",[]).provider("Events",function(){var n=t();this.escapeMethods=function(){["on","once","off","trigger"].forEach(function(t){n.prototype["$$"+t]=n.prototype[t],delete n.prototype[t]})},this.$get=function(){return n}}):"function"==typeof define&&define.amd?define(t):"object"==typeof module&&module.exports?module.exports=t():n.Events=t()}(this,function(){"use strict";function n(n,t){for(var e in t)n[e]=t[e];return n}function t(n){this.name=n}function e(n,t,e,o){n[t]||(n[t]=[]),o?n[t].unshift(e):n[t].push(e)}function o(n,t){var e=n.indexOf(t);e>=0&&n.splice(e,1)}function r(n,t){for(var e in n)o(n[e],t);delete t.__run_once}function i(){this.listeners={}}return t.prototype.preventDefault=function(){this.defaultPrevented=!0},n(i.prototype,{on:function(n,t,o){var r=this.listeners;(n instanceof Array?n:n.split(/ +/)).forEach(function(n){e(r,n,t,o)})},once:function(n,t,o){t.__run_once=!0;var r=this.listeners;(n instanceof Array?n:n.split(/ +/)).forEach(function(n){e(r,n,t,o)})},trigger:function(n,e,o){var i=this.listeners;(n instanceof Array?n:n.split(/ +/)).forEach(function(n){if(i[n])for(var f=new t(n),c=[f].concat(e),u=i[n],s=0,a=u.length;s<a;s++)if(u[s].apply(o,c),u[s].__run_once&&(r(i,u[s]),s--,a--),f.defaultPrevented)return})},off:function(n,t){var e=this.listeners;(n instanceof Array?n:n.split(/ +/)).forEach(function(n){e[n]&&o(e[n],t)})}}),i});