!function(n,e){"undefined"!=typeof module?module.exports=e():n&&(n.define?n.define("Events",function(){return e()}):n.angular?n.angular.module("eventsWrapper",[]).factory("Events",function(){return e(!0)}):n.Events||(n.Events=e()))}(this,function(n){"use strict";function e(n,e,t){this.name=n,this.args=e,this.$$args=[this].concat(e),this.caller=t}function t(n){return n?c.safe:c.std}function r(n,e,t){return!e instanceof Function?!1:void n.push({handler:e,context:t})}function o(n,e){if(e){for(var t=0,r=e.length;r>t;t++)if(e[t].handler.apply(n.caller,n.$$args),n.defaultPrevented)return t+1;return r}}function i(n){n&&n.splice(0,n.length)}function f(n,e){if(n)for(var t=0,r=n.length;r>t;)n[t].handler===e?(n.splice(t,1),r--):t++}function u(n,u){function c(e,t,r,o,i){if(t instanceof Array)return t.forEach(function(t){n[e](t,r,o,i)}),!0;if("string"!=typeof t)throw new Error("event name should be a string");return/ /.test(t)?(n[e](t.split(/ +/),r,o,i),!0):void 0}n=n||this;var a={},s={},l=t(u);n[l.on]=function(e,t,o){return c(l.on,e,t,o)?n:(a[e]=a[e]||[],r(a[e],t,o),n)},n[l.once]=function(e,t,o){return c(l.once,e,t,o)?n:(s[e]=s[e]||[],r(s[e],t,o),n)},n[l.trigger]=function(t,r,i){if(c(l.trigger,t,r,i))return n;var f=new e(t,r,i);if(o(f,a[t]),!f.defaultPrevented){var u=o(f,s[t]);u&&s[t].splice(0,u)}return n},n[l.off]=function(e,t){return c(l.off,e,t)?n:(void 0===t?(i(a[e]),i(s[e])):(f(a[e],t),f(s[e],t)),n)}}var c={std:{on:"on",once:"once",off:"off",trigger:"trigger"},safe:{on:"$$on",once:"$$once",off:"$$off",trigger:"$$trigger"}};return e.prototype.preventDefault=function(){this.defaultPrevented=!0},u});