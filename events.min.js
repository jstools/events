!function(n,t){n.angular?n.angular.module("eventsWrapper",[]).provider("Events",function(){var n=t();this.escapeMethods=function(){["on","once","off","trigger"].forEach(function(t){n.prototype["$$"+t]=n.prototype[t],delete n.prototype[t]})},this.$get=function(){return n}}):"function"==typeof define&&define.amd?define(t):"object"==typeof module&&module.exports?module.exports=t():n.Events=t()}(this,function(){"use strict";function n(n,t){for(var e in t)n[e]=t[e];return n}function t(n){this.name=n}function e(n,t,e,o){n[t]||(n[t]=[]),o?n[t].unshift(e):n[t].push(e)}function o(n,t){var e=n.indexOf(t);e>=0&&n.splice(e,1)}function i(n,t){for(var e in n)o(n[e],t);delete t.__run_once}function r(t,e){n(e,{on:t.on.bind(t),once:t.once.bind(t),off:t.off.bind(t),trigger:t.trigger.bind(t)})}function f(n){this.listeners={},n&&r(this,n)}return t.prototype.preventDefault=function(){this.defaultPrevented=!0},n(f.prototype,{on:function(n,t,o){var i=this.listeners;(n instanceof Array?n:n.split(/ +/)).forEach(function(n){e(i,n,t,o)})},once:function(n,t,o){t.__run_once=!0;var i=this.listeners;(n instanceof Array?n:n.split(/ +/)).forEach(function(n){e(i,n,t,o)})},trigger:function(n,e,o){var r=this.listeners;(n instanceof Array?n:n.split(/ +/)).forEach(function(n){if(r[n])for(var f=new t(n),c=[f].concat(e),u=r[n],s=0,a=u.length;s<a;s++)if(u[s].apply(o,c),u[s].__run_once&&(i(r,u[s]),s--,a--),f.defaultPrevented)return})},off:function(n,t){var e=this.listeners;(n instanceof Array?n:n.split(/ +/)).forEach(function(n){e[n]&&o(e[n],t)})}}),f});