/*! jstools-events 2015-05-02 */
!function(a,b){"undefined"!=typeof module?module.exports=b():void 0!==a&&(a.define?define("Events",b):a.angular?a.angular.module("jstools.events",[]).factory("Events",b):a.Events||(a.Events=b()))}(this,function(){"use strict";function a(a,b,c){return!b instanceof Function?!1:void a.push({handler:b,context:c})}function b(a,b,c){if(a){for(var d=0,e=a.length;e>d;d++)a[d].handler.apply(c,b);return e}}function c(a){a&&a.splice(0,a.length)}function d(a,b){if(a)for(var c=0,d=a.length;d>c;)a[c].handler===b?(a.splice(c,1),d--):c++}function e(e){e=e||this;var f={},g={};e.$$on=function(b,c,d){f[b]=f[b]||[],a(f[b],c,d)},e.$$once=function(b,c,d){g[b]=g[b]||[],a(g[b],c,d)},e.$$trigger=function(a,c,d){b(f[a],c,d);var e=b(g[a],c,d);e&&g[a].splice(0,e)},e.$$off=function(a,b){void 0===b?(c(f[a]),c(g[a])):(d(f[a],b),d(g[a],b))}}return e});