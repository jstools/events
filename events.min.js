!function(n,e){"undefined"!=typeof module?module.exports=e():n&&(n.define?n.define("Events",function(){return e()}):n.angular?n.angular.module("eventsWrapper",[]).factory("Events",function(){return e(!0)}):n.Events||(n.Events=e()))}(this,function(n){"use strict";function e(n){return n?u.safe:u.std}function t(n,e,t){return!e instanceof Function?!1:void n.push({handler:e,context:t})}function o(n,e,t){if(n){for(var o=0,r=n.length;r>o;o++)n[o].handler.apply(t,e);return r}}function r(n){n&&n.splice(0,n.length)}function f(n,e){if(n)for(var t=0,o=n.length;o>t;)n[t].handler===e?(n.splice(t,1),o--):t++}function i(n,i){n=n||this;var u={},c={},s=e(i);n[s.on]=function(n,e,o){u[n]=u[n]||[],t(u[n],e,o)},n[s.once]=function(n,e,o){c[n]=c[n]||[],t(c[n],e,o)},n[s.trigger]=function(n,e,t){o(u[n],e,t);var r=o(c[n],e,t);r&&c[n].splice(0,r)},n[s.off]=function(n,e){void 0===e?(r(u[n]),r(c[n])):(f(u[n],e),f(c[n],e))}}var u={std:{on:"on",once:"once",off:"off",trigger:"trigger"},safe:{on:"$$on",once:"$$once",off:"$$off",trigger:"$$trigger"}};return i});