!function(n,e){"undefined"!=typeof module?module.exports=e():n&&(n.define?n.define("Events",function(){return e()}):n.angular?n.angular.module("eventsWrapper",[]).factory("Events",function(){return e(!0)}):n.Events||(n.Events=e()))}(this,function(n){"use strict";function e(n,e,t){this.name=n,this.args=e,this.$$args=[this].concat(e),this.caller=t}function t(n){return n?c.safe:c.std}function r(n,e,t){return!e instanceof Function?!1:void n.push({handler:e,context:t})}function o(n,e){if(e){for(var t=0,r=e.length;r>t;t++)if(e[t].handler.apply(n.caller,n.$$args),n.defaultPrevented)return t+1;return r}}function f(n){n&&n.splice(0,n.length)}function i(n,e){if(n)for(var t=0,r=n.length;r>t;)n[t].handler===e?(n.splice(t,1),r--):t++}function u(n,u){n=n||this;var c={},a={},s=t(u);n[s.on]=function(e,t,o){return c[e]=c[e]||[],r(c[e],t,o),n},n[s.once]=function(e,t,o){return a[e]=a[e]||[],r(a[e],t,o),n},n[s.trigger]=function(t,r,f){var i=new e(t,r,f);if(o(i,c[t]),!i.defaultPrevented){var u=o(i,a[t]);u&&a[t].splice(0,u)}return n},n[s.off]=function(e,t){return void 0===t?(f(c[e]),f(a[e])):(i(c[e],t),i(a[e],t)),n}}var c={std:{on:"on",once:"once",off:"off",trigger:"trigger"},safe:{on:"$$on",once:"$$once",off:"$$off",trigger:"$$trigger"}};return e.prototype.preventDefault=function(){this.defaultPrevented=!0},u});