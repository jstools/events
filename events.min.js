/*! jstools-events 2015-05-05 */
!function(a,b){"undefined"!=typeof module?module.exports=b():a&&(a.define?a.define("Events",function(){return b()}):a.angular?a.angular.module("jstools.events",[]).factory("Events",function(){return b(!0)}):a.Events||(a.Events=b()))}(this,function(a){"use strict";function b(a,b,c){return!b instanceof Function?!1:void a.push({handler:b,context:c})}function c(a,b,c){if(a){for(var d=0,e=a.length;e>d;d++)a[d].handler.apply(c,b);return e}}function d(a){a&&a.splice(0,a.length)}function e(a,b){if(a)for(var c=0,d=a.length;d>c;)a[c].handler===b?(a.splice(c,1),d--):c++}function f(a){a=a||this;var f={},h={};a[g.on]=function(a,c,d){f[a]=f[a]||[],b(f[a],c,d)},a[g.once]=function(a,c,d){h[a]=h[a]||[],b(h[a],c,d)},a[g.trigger]=function(a,b,d){c(f[a],b,d);var e=c(h[a],b,d);e&&h[a].splice(0,e)},a[g.off]=function(a,b){void 0===b?(d(f[a]),d(h[a])):(e(f[a],b),e(h[a],b))}}var g=a?{on:"$$on",once:"$$once",off:"$$off",trigger:"$$triger"}:{on:"on",once:"once",off:"off",trigger:"trigger"};return f});