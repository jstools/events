!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):n.Azazel=t()}(this,function(){"use strict";function u(t,e,r,n){var i=[].shift.call(e);return e=[].slice.call(e),"string"==typeof i&&(i=i.split(/\s+/)),i.forEach(function(n){t.apply(r,[n].concat(e))}),n}return function(i,n){var o={};function f(n,t,e){if(!(t instanceof Function))throw new Error("listener should be a Function");if(n instanceof Array)return u(f,arguments,this,i);if("string"!=typeof n)throw new Error("event_name should be a string");return/ /.test(n)?u(f,arguments,this,i):(o[n]=o[n]||[],e?o[n].unshift(t):o[n].push(t),i)}function s(n,t){if(n instanceof Array)return u(s,arguments,this,i);if("string"!=typeof n)throw new Error("event_name should be a string");return/ /.test(n)?u(s,arguments,this,i):(function(n,t){if(n)for(var e=n.length-1;0<=e;e--)t.call(null,n[e],e)&&n.splice(e,1)}(o[n],function(n){return n===t||n.__once__===t}),i)}(i=i||this)[(n=n||"")+"on"]=f,i[n+"once"]=function(n,t,e){var r=function(){s(n,r),t.apply(this,arguments)};return r.__once__=t,f(n,r,e)},i[n+"emit"]=function n(t,e,r){if(t instanceof Array)return u(n,arguments,this,i);if("string"!=typeof t)throw new Error("event_name should be a string");return/ /.test(t)?u(n,arguments,this,i):(o[t]&&o[t].forEach(function(n){n.apply(r,e||[])}),i)},i[n+"off"]=s}});