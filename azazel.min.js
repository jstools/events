!function(n,t){"function"==typeof define&&define.amd?define(t):"object"==typeof module&&module.exports?module.exports=t():n.Azazel=t()}(this,function(){"use strict";function n(n,t){for(var e in t)n[e]=t[e];return n}function t(n){this.name=n}function e(n,t,e,i){n[t]||(n[t]=[]),i?n[t].unshift(e):n[t].push(e)}function i(n,t){var e=n.indexOf(t);e>=0&&n.splice(e,1)}function o(n,t){for(var e in n)i(n[e],t);delete t.__run_once}function f(n,t,e){t[e+"on"]=n.on.bind(n),t[e+"once"]=n.once.bind(n),t[e+"off"]=n.off.bind(n),t[e+"emit"]=n.emit.bind(n)}function r(n,t){this.listeners={},n&&f(this,n,t||"")}return t.prototype.preventDefault=function(){this.defaultPrevented=!0},n(r.prototype,{on:function(n,t,i){var o=this.listeners;(n instanceof Array?n:n.split(/ +/)).forEach(function(n){e(o,n,t,i)})},once:function(n,t,i){t.__run_once=!0;var o=this.listeners;(n instanceof Array?n:n.split(/ +/)).forEach(function(n){e(o,n,t,i)})},emit:function(n,e,i){var f=this.listeners;(n instanceof Array?n:n.split(/ +/)).forEach(function(n){if(f[n])for(var r=new t(n),c=[r].concat(e),s=f[n],u=0,a=s.length;u<a;u++)if(s[u].apply(i,c),s[u].__run_once&&(o(f,s[u]),u--,a--),r.defaultPrevented)return})},off:function(n,t){var e=this.listeners;(n instanceof Array?n:n.split(/ +/)).forEach(function(n){e[n]&&i(e[n],t)})}}),r});