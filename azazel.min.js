!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):n.Azazel=t()}(this,function(){function n(n,t,o,i){n[t]||(n[t]=[]),i?n[t].unshift(o):n[t].push(o)}function t(n,t){var o=n.indexOf(t);o>=0&&n.splice(o,1)}function o(n,o){for(var i in n)t(n[i],o);delete o.__run_once}function i(n,t,o){t[o+"on"]=n.on.bind(n),t[o+"once"]=n.once.bind(n),t[o+"off"]=n.off.bind(n),t[o+"emit"]=n.emit.bind(n)}function e(n,t){this.listeners={},n&&i(this,n,t||"")}return e.prototype.on=function(t,o,i){var e=this.listeners;(t instanceof Array?t:t.split(/ +/)).forEach(function(t){n(e,t,o,i)})},e.prototype.once=function(t,o,i){o.__run_once=!0;var e=this.listeners;(t instanceof Array?t:t.split(/ +/)).forEach(function(t){n(e,t,o,i)})},e.prototype.emit=function(n,t,i){var e=this.listeners;(n instanceof Array?n:n.split(/ +/)).forEach(function(n){if(e[n])for(var f=e[n],r=0,c=f.length;r<c;r++)f[r].apply(i,t),f[r].__run_once&&(o(e,f[r]),r--,c--)})},e.prototype.off=function(n,o){var i=this.listeners;(n instanceof Array?n:n.split(/ +/)).forEach(function(n){i[n]&&t(i[n],o)})},e});