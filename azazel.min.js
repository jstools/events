!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(n):"function"==typeof define&&define.amd?define([],function(){return t(n)}):n.Azazel=t(n)}(this,function(n){function t(n,t,i,o){n[t]||(n[t]=[]),o?n[t].unshift(i):n[t].push(i)}function i(n,t){var i=n.indexOf(t);i>=0&&n.splice(i,1)}function o(n,t){for(var o in n)i(n[o],t);delete t.__run_once}function e(n,t,i){t[i+"on"]=n.on.bind(n),t[i+"once"]=n.once.bind(n),t[i+"off"]=n.off.bind(n),t[i+"emit"]=n.emit.bind(n)}function f(t,i){if(this===n)return new f(t),t;this.listeners={},t&&e(this,t,i||"")}return f.prototype.on=function(n,i,o){var e=this.listeners;(n instanceof Array?n:n.split(/ +/)).forEach(function(n){t(e,n,i,o)})},f.prototype.once=function(n,i,o){i.__run_once=!0;var e=this.listeners;(n instanceof Array?n:n.split(/ +/)).forEach(function(n){t(e,n,i,o)})},f.prototype.emit=function(n,t,i){var e=this.listeners;(n instanceof Array?n:n.split(/ +/)).forEach(function(n){if(e[n])for(var f=e[n],r=0,c=f.length;r<c;r++)f[r].apply(i,t),f[r].__run_once&&(o(e,f[r]),r--,c--)})},f.prototype.off=function(n,t){var o=this.listeners;(n instanceof Array?n:n.split(/ +/)).forEach(function(n){o[n]&&i(o[n],t)})},f});